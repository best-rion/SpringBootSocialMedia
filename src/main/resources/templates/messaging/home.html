<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link rel="stylesheet" th:href="@{/css/nav.css}">
    <title>Messaging Home</title>
</head>
<body>
	
	<nav>
		<a class="nav-item" th:href="@{/}">Home</a>
		<a class="nav-item" th:href="@{/profile/}+${principal.name}">Profile</a>
		<a class="nav-item" th:href="@{/makePost}">Make Post</a>
		<a class="nav-item" th:href="@{/messaging}">Message</a>
		<a class="nav-item" th:href="@{/friends}">Find Friends</a>
		<a class="nav-item" th:href="@{/logout}">Logout</a>
	</nav>

    <div class="container">
		
		<h2>Messages</h2>

		<ul>
		    <li th:each="notification: ${notifications}">
		        <a th:href="@{/messaging/chat/}+${notification.sender}" th:text="${notification.sender}"></a>
				<span th:if="${notification.numberOfMessages > 0}">ðŸ’¬<span th:text="${notification.numberOfMessages}"></span></span>
		    </li>
		</ul>
		
    </div>
    
</body>
</html>